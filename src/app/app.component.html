<div class="fix-header fix-sidebar">
  <!-- Main wrapper  -->
  <div id="main-wrapper">
    
    <!-- Page wrapper  --
    <div class="page-wrapper"> -->
      <!-- Bread crumb -->
      <div class="row page-titles">
        <div class="col-md-5 align-self-center">
            <a href="#" class="logo" >
                <img alt="logo" src="assets/images/ERI_horizontal_RGB.svg" style="3.4375rem;height: 50px;"/>
            </a>  
            <span style="margin-left: 100px;font-size: 250%;color: #000;">Profiler Diff GUI</span>
        </div>
      </div>
      <!-- End Bread crumb -->
      <!-- Container fluid  -->
      <div class="container-fluid">
        <!-- Start Page Content -->
        <div class="row">
          <div class="col-md-3">
            <div class="card p-30">
              <div class="media">
                <li class="media-body media-text-middle">

                  <p>
                    <p-card>
                        <br />
                        <label for="fileInput" class="custom-file-upload">
                            <i class="fa fa-cloud-upload"></i> Select File
                        </label>
                        <input id="fileInput" type="file" />                      

                    <button class="button"  type="button" (click)="startUpload()">Load File</button>
                    <br />

                    

                    </p-card>
                    <br />

                  <p>
                     
                    <br />

             <p-tabView [ngClass]="div-panel">
               <div *ngFor="let prof of profilerList" >
               <p-tabPanel header="{{prof.name}}"  >
                  <br /> <br />
                  <p-panel header="">
                    <p-accordion >

                      <p-accordionTab *ngIf="prof.addedScripts ? true : false" header="Added Scripts <<{{prof.name}}>> - <<Time Difference: {{prof.timeDiff}}>>">
                        <p-table [value]="prof.addedScripts.scripts" [paginator]="true" [rows]="10" >                     

                            <ng-template pTemplate="caption">
                              Added Scripts
                                <div style="text-align: right">        
                                    <i class="fa fa-search" style="margin:4px 4px 0 0"></i>
                                    <input type="text" pInputText size="50" placeholder="name" (input)="dt.filterGlobal($event.target.value, 'contains')" style="width:auto">
                                </div>
                            </ng-template>

                          <ng-template pTemplate="header">
                            <tr>
                              <th align="center">Name</th>
 <th align="center" [pSortableColumn]="execTimeDiff">execTimeDiff <p-sortIcon [field]="execTimeDiff"></p-sortIcon> </th>
                              <th align="center">TotalExecTimeDiff</th>
                              <th align="center">ExecCountDiff</th>

                            </tr>
                          </ng-template>
                          <ng-template pTemplate="body" let-scripts>
                            <tr>

                              <td  >{{scripts.name}}</td>
                              <td align="center" [ngClass]="scripts.execTimeDiff > 100 ? 'long-time' : 'normal-td'"   >{{scripts.execTimeDiff}}</td>
                              <td align="center" >{{scripts.totalExecTimeDiff}}</td>
                              <td align="center">{{scripts.execCountDiff}}</td>

                            </tr>
                          </ng-template>

                          <ng-template pTemplate="summary">
                              There are {{prof.addedScripts.scripts?.length}} records
                          </ng-template>
                        </p-table>
                      </p-accordionTab>

                      <p-accordionTab *ngIf="prof.removedScripts ? true : false" header="Removed Scripts <<{{prof.name}}>> - <<Time Difference: {{prof.timeDiff}}>>">
                        <p-table [value]="prof.removedScripts.scripts" [paginator]="true" [rows]="10">
                            <ng-template pTemplate="caption">
                                Removed Scripts
                            </ng-template>
                          <ng-template pTemplate="header">
                            <tr >
                              <th align="center">Name</th>
                              <th align="center">execTimeDiff</th>
                              <th align="center">TotalExecTimeDiff</th>
                              <th align="center">ExecCountDiff</th>
                            </tr>
                          </ng-template>
                          <ng-template pTemplate="body" let-scripts>
                            <tr>
                              <td >{{scripts.name}}</td>
                              <td align="center" [ngClass]="scripts.execTimeDiff > 100 ? 'long-time' : 'normal-td'">{{scripts.execTimeDiff}}</td>
                              <td align="center" >{{scripts.totalExecTimeDiff}}</td>
                              <td align="center">{{scripts.execCountDiff}}</td>
                            </tr>
                          </ng-template>
                          <ng-template pTemplate="summary">
                              There are {{prof.removedScripts.scripts?.length}} records
                          </ng-template>
                        </p-table>
                      </p-accordionTab>

                      <p-accordionTab *ngIf="prof.existingScripts ? true : false" header="Existing Scripts <<{{prof.name}}>> - <<Time Difference: {{prof.timeDiff}}>>">
                        <p-table [value]="prof.existingScripts.scripts"  [paginator]="true" [rows]="10">
                            <ng-template pTemplate="caption">
                                Existing Scripts
                            </ng-template>
                          <ng-template pTemplate="header">
                            <tr >
                              <th align="center">Name</th>
                              <th align="center">execTimeDiff</th>
                              <th align="center">TotalExecTimeDiff</th>
                              <th align="center">ExecCountDiff</th>
                            </tr>
                          </ng-template>
                          <ng-template pTemplate="body" let-scripts>
                            <tr>
                              <td >{{scripts.name}}</td>
                              <td align="center" [ngClass]="scripts.execTimeDiff > 100 ? 'long-time' : 'normal-td'">{{scripts.execTimeDiff}}</td>
                              <td  align="center">{{scripts.totalExecTimeDiff}}</td>
                              <td align="center" >{{scripts.execCountDiff}}</td>
                            </tr>
                          </ng-template>
                          <ng-template pTemplate="summary">
                              There are {{prof.existingScripts.scripts?.length}} records
                          </ng-template>
                        </p-table>
                      </p-accordionTab>
                      <p-chart type="doughnut" [data]="dougnut1?.data" ></p-chart>
                    </p-accordion>
                  </p-panel>
                  </p-tabPanel>
                </div>
                </p-tabView>
                    <br />
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

      <!-- footer -->
      <footer class="footer">Â© Telefonaktiebolaget LM Ericsson 1994-2018</footer>
      <!-- End footer -->
    </div>
    <!-- End Page wrapper  -->
  </div>


